#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Sun Jan  3 00:33:11 2021

@author: robotlab
"""

import csv

#with open("/home/robotlab/Downloads/NSPL_NOV_2020_UK.csv") as csv_file:
#    with open("/home/robotlab/postcodes.csv",'w') as output:
#        c=csv.reader(csv_file)
#        for l in c:
#            line="%s,%s,%s\n" % (l[0],l[6],l[7])
#            output.write(line)
#        

postcodes = ['WR4 9RW',
 'SO19 8BR',
 'SY3 8XL',
 'ST5 1QG',
 'PO30 5TG',
 'TQ2 7TD',
 'E1 1BB',
 'GL3 4AW',
 'HA1 3UJ',
 'GU2 7XX',
 'BS23 4TQ',
 'BA21 4AT',
 'BS1 3NU',
 'TQ2 7AA',
 'BD9 6RJ',
 'SS0 0RY',
 'NW3 2QG',
 'HA7 4LP',
 'N18 1QX',
 'UB8 3NN',
 'IG3 8XJ',
 'KT2 7QB',
 'TA1 5DA',
 'DT1 2JY',
 'WS2 9PS',
 'CH49 5PE',
 'L35 5DR',
 'L14 3PE',
 'L12 2AP',
 'CW1 4QJ',
 'M20 4BX',
 'EX31 4JB',
 'MK42 9DJ',
 'LU4 0DZ',
 'YO31 8HE',
 'HG2 7SX',
 'BD20 6TD',
 'S10 2TH',
 'PE30 4ET',
 'BA1 3NG',
 'BH15 2JB',
 'MK6 5LD',
 'SS16 5NL',
 'CO4 5JL',
 'BN2 3EW',
 'GU16 7UJ',
 'BH17 0RB',
 'BH7 7DW',
 'NE34 0PL',
 'TR1 3LJ',
 'L9 7AL',
 'CH63 4JY',
 'L8 7SS',
 'L9 7LJ',
 'RM7 0AG',
 'S75 2EP',
 'S60 2UD',
 'S44 5BL',
 'TW7 6AF',
 'LS15 8ZB',
 'CB23 3RE',
 'PE3 9GZ',
 'NR31 6LA',
 'IP4 5PD',
 'IP33 2QZ',
 'CB2 0QQ',
 'TA6 4RN',
 'EX2 5DW',
 'NG3 6AA',
 'SO16 6YD',
 'S5 7AU',
 'PO6 3LY',
 'RG1 5AN',
 'SE1 9RT',
 'SE13 6LH',
 'CR7 7YE',
 'SW17 0QT',
 'PL26 6AD',
 'CV34 5BW',
 'ST16 3SA',
 'ST4 6QG',
 'DE13 0RB',
 'DN33 2BA',
 'SK10 3BL',
 'CH2 1UL',
 'BB7 9PE',
 'SE5 9RS',
 'NG17 4JL',
 'PL6 8DH',
 'CV2 2DX',
 'N19 5NF',
 'UB1 3EU',
 'SY10 7AG',
 'WV10 0QP',
 'SR4 7TP',
 'HR1 2ER',
 'CV10 7DJ',
 'B15 2TG',
 'ST4 8HH',
 'NR4 7UY',
 'M23 9LT',
 'M6 8HD',
 'BL4 0JR',
 'OL6 9RW',
 'NR6 5BE',
 'SN3 6BB',
 'RG24 9NA',
 'DA2 8DA',
 'DY1 2HQ',
 'NW3 5BA',
 'CA28 8JG',
 'CA1 3SX',
 'NN16 8UZ',
 'NN1 5BD',
 'OX4 2GX',
 'SP2 8BJ',
 'NN15 7PW',
 'WC1N 3JH',
 'DN2 5LT',
 'EC1V 2PD',
 'NG34 8GG',
 'ME7 5NY',
 'RH19 3DZ',
 'DA2 7WG',
 'SW3 6JJ',
 'B4 6NH',
 'L7 8XP',
 'CM1 7ET',
 'CF15 7QZ',
 'SW10 9NH',
 'PE29 6NT',
 'CM20 1QX',
 'E9 6SR',
 'SW17 7DJ',
 'B9 5ST',
 'NE9 6SX',
 'LS9 7TF',
 'CM2 0QX',
 'ST16 3SR',
 'WN1 2NN',
 'B31 2AP',
 'B15 2TH',
 'N15 3TH',
 'SE1 8SD',
 'NW1 2PG',
 'CB21 5EF',
 'OL6 7SR',
 'SW3 6NP',
 'LL17 0WA',
 'LE4 8PQ',
 'NE7 7DN',
 'GL53 7AG',
 'NE29 8NH',
 'DE22 3NE',
 'OX3 9DU',
 'KT16 0PZ',
 'RH1 5RH',
 'GL1 1LY',
 'TS4 3BW',
 'WA2 8WA',
 'LA9 7RG',
 'NW1 2PL',
 'SE5 8AZ',
 'HU10 6ED',
 'BS10 5NB',
 'SN15 1GG',
 'SM5 1AA',
 'CT1 3NG',
 'TS24 9AH',
 'PR8 6PN',
 'SO40 2RZ',
 'M13 9WL',
 'L3 1DL',
 'PR5 6AW',
 'M8 5RB',
 'HU3 2JZ',
 'LN2 4AX',
 'LE5 4QF',
 'ME16 9QQ',
 'WD18 0HB',
 'SG1 4AB',
 'SK2 7JE',
 'E1 6LP',
 'SS11 7XX',
 'WR5 1DD',
 'AL3 5TL',
 'EX2 5AF',
 'WA5 1QG',
 'RG12 1BQ',
 'HD3 3EA',
 'NG7 2UH',
 'PO19 1BX',
 'DL2 2TS',
 'NE3 3XT',
 'NE15 8NY',
 'BL1 5DD',
 'WF2 0XQ',
 'NG8 6PY',
 'CH2 1BQ',
 'TN37 7PT',
 'DN4 8QN',
 'WF1 4EE',
 'WF1 3SP',
 'BN2 5BE',
 'B18 7QH',
 'FY3 8NR',
 'DE22 3LZ',
 'PR2 9HT',
 'DL3 6HX',
 'HP7 0JD',
 'BB2 3HH',
 'B1 3RB',
 'M25 3BL',
 'SY3 8XQ',
 'KT22 7AD',
 'ME19 4AX',
 'L13 1FB',
 'WN3 6PR',
 'NR1 3FR',
 'AL7 1BW',
 'LN5 7JH',
 'LS6 1PF',
 'CH41 5AL',
 'DE45 1AD',
 'TW11 8HU',
 'DY5 1LX',
 'NR6 5NA',
 'BN7 2XW',
 'OX26 6HR',
 'EX2 7HY',
 'CV6 6NY',
 'W2 1NY',
 'DY2 8PS',
 'BN11 2DH',
 'CF11 9LJ',
 'PE27 4LG',
 'B7 4BN',
 'SW1E 6QP',
 'ME16 9NT']

with open("/home/robotlab/postcodes.csv") as csv_file:
        c=csv.reader(csv_file)
        dt=[]
        xs=[]
        ys=[]
        for l in c:
           dt.append(l[0].replace(' ',''))
           xs.append(l[1])
           ys.append(l[2])
        
out = []
for pc in postcodes:
    ppc = pc.replace(' ','')
    if ppc in dt:
        index = dt.index(ppc)
        x=xs[index]
        y=ys[index]
        out.append("%s,%s,%s\n" % (pc,x,y))
    else: 
        print("%s not in list" % pc)
           
with open('postcode_lookup.csv','w') as f:
        for line in out:
            f.write(line) 
